---
classes:
  - roles::website
profiles::logstash::config_files:
  input:
    content: 'input { file { type => "syslog" path => [ "/var/log/test.log" ] start_position => "beginning" } } '
    order: 100
  nginx:
    content: 'input { file { type => "nginx-error" path => [ "/var/log/nginx/*error.log" ] } } '
    order: 200
profiles::website::nginx: true
profiles::website::nginx::upstreams:
  gaggl:
    members:
      - dc1.gaggl.vagrant
      - dc2.gaggl.vagrant
profiles::website::nginx::vhosts:
   www.gaggl.vagrant:
     server_name:
       - 'proxy.gaggl.vagrant'
       - 'www.gaggl.vagrant'
     proxy: 'http://gaggl'
