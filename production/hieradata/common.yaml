---
profiles::bootstrap::firewall: true
profiles::bootstrap::firewall::ensure: stopped
profiles::bootstrap::puppet: true
profiles::bootstrap::puppet::runinterval: 180
profiles::bootstrap::puppet::splaylimit: 180s
profiles::bootstrap::repos: true
profiles::bootstrap::repositories::epel: true
profiles::monitoring::icinga2: true
profiles::monitoring::icinga2::ipaddress: '%{::ipaddress_enp0s8}'
profiles::monitoring::icinga2::manage_repo: true
profiles::monitoring::icinga2::parent_endpoints:
  'alerts.gaggl.vagrant':
    host: 192.168.28.45
profiles::monitoring::icinga2::vars:
  disks:
    'disk /':
      disk_wfree: 10%
      disk_cfree: 5%
profiles::monitoring::logstash: true
profiles::monitoring::logstash::config_files:
  input:
    content: 'input { file { type => "syslog" path => [ "/var/log/messages" ] } } '
  output:
    content: 'output { elasticsearch { hosts => ["http://elk.gaggl.vagrant:9200"] } }'
profiles::monitoring::logstash::manage_repo: true
profiles::monitoring::prometheus: true
profiles::orchestration::consul: true
profiles::orchestration::consul::config:
  client_addr: '0.0.0.0'
  data_dir: /opt/consul
  datacenter: services
  retry_join:
    - 192.168.28.42
profiles::orchestration::consul::searchpath:
  - 'node.consul'
  - 'gaggl.vagrant'
profiles::orchestration::consul::name_servers:
  - 127.0.0.1
  - 10.0.2.3
profiles::orchestration::consul::services:
  node_exporter:
    address: "%{::hostname}.node.consul"
    checks:
      - http: http://localhost:9100
        interval: 10s
    port: 9100
    tags:
      - "%{::hostname}"
profiles::orchestration::consul::options: '-bind=%{::ipaddress_enp0s8} -enable-script-checks -syslog'
profiles::orchestration::consul::resolv: true
profiles::runtime::java: true
